#!/usr/bin/env bash

# Update package list
sudo apt-get update

# Install nginx
sudo apt-get install nginx -y

# Create configuration file
sudo bash -c 'cat > /etc/nginx/sites-available/default' << EOF
server {
    listen 80 default_server;
    listen [::]:80 default_server;

    root /var/www/html;
    index index.html;

    server_name _;

    location / {
        return 200 "Hello World!";
    }
}
EOF

# Restart nginx
sudo service nginx restart

# Check nginx status and response
if curl -s localhost | grep -q "Hello World!"; then
  echo "Nginx is installed and configured correctly."
else
  echo "Nginx configuration error: / response is not 'Hello World!'."
fi
